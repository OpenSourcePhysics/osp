<!DOCTYPE html>
<html>

<head>
  <title>embedded SwingJS test QMSuperpositionWRApp</title>
  <meta charset="utf-8" />
  <script src="swingjs/swingjs2.js"></script>
  <script>
    if (!self.SwingJS) alert('swingjs2.js was not found. It needs to be in swingjs folder in the same directory as ' + document.location.href)

    function initApp() {
      if (!testApplet.app) alert('App not found.');
      setResize();
      changeSize();
    }

    Info = {
      code: null,
      main: "davidson.qm.QMSuperpositionWRApp",
      core: "NONE",
      width: 850,
      height: 550,
      readyFunction: initApp,
      serverURL: 'https://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php',
      j2sPath: 'swingjs/j2s',
      console: 'sysoutdiv',
      allowjavascript: true
    }

    dotest = function (cmd) {
      switch (cmd) {
        case "startAnimation":
          testApplet.app.startStopAnimation(true);
          break;
        case "stopAnimation":
          testApplet.app.startStopAnimation(false);
          break;
      }

    }

    changeSize = function () {
      //let dim = testApplet.app.getAppSize();
      let dim = testApplet.app.getMainFrameSize();
      document.getElementById("testApplet-controlFrame-div").style.width = dim[0] + "px";
      document.getElementById("testApplet-controlFrame-div").style.height = dim[1] + "px";
    }

    setResize = function () {
      testApplet.app.getMainFrame().setResizeAction('changeSize');
    }

  </script>
</head>

<body on>

  <h3>
    <a href="javascript:dotest('startAnimation')">start animation</a>
    &nbsp;&nbsp;&nbsp;
    <a href="javascript:dotest('stopAnimation')">stop animation</a>
    &nbsp;&nbsp;&nbsp;
    <a href="javascript:changeSize()">Adjust Border</a>
    &nbsp;&nbsp;&nbsp;
    <a href="javascript:setResize()">Enable Div Resize</a>

  </h3>
  <div id="testApplet-controlFrame-div"
    style="top:100px;left:400px;width:320px;height:370px;position:relative;border:3px red;border-style:solid;background:yellow">
    application will appear here</div>

  <div id="controlFrame-div"
    style="top:250px;left:400px;width:300px;height:370px;position:relative;border:3px red;border-style:solid;background:blue">
    application will appear here</div>

  <script>
    SwingJS.getApplet('testApplet', Info)
    getClassList = function () {
      J2S._saveFile('_j2sclasslist.txt', Clazz.ClassFilesLoaded.sort().join('\n'))
    }
  </script>
  <div style="position:absolute;left:900px;top:30px;width:600px;height:300px;">
    <div id="sysoutdiv" contentEditable="true" style="border:1px solid green;width:100%;height:95%;overflow:auto"></div>
    This is System.out. <a href="javascript:testApplet._clearConsole()">clear it</a> <a
      href='javascript:J2S.getProfile()'>start/stop profiling</a>

    <br>see <a href=___j2sflags.htm>___j2sflags.htm</a> for SwingJS URL command-line options

    <br><a href="javascript:getClassList()">get _j2sClassList.txt</a>
  </div>


</body>

</html>